<% content_for(:page_title, page_title(t("questions.address.home.title"), journey: current_journey_routing_name, show_error: @form.errors.any?)) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_for @form, url: @form.url, builder: GOVUKDesignSystemFormBuilder::FormBuilder do |f| %>
      <%= f.govuk_error_summary %>

      <div class="govuk-!-margin-bottom-5">
        <h1 class="govuk-heading-xl"><%= t("questions.address.home.title") %></h1>
        <h2 class="govuk-heading-l govuk-!-margin-bottom-1">Postcode</h2>
        <p class="govuk-body">
          <%= @form.postcode %>
          <%= govuk_link_to "Change", claim_path(current_journey_routing_name, "postcode-search"), class: "govuk-!-margin-left-3", "aria-label": "Change" %>
        </p>

        <%= f.govuk_collection_radio_buttons :address,
          @form.radio_options,
          :id,
          :name,
          legend: {
            text: "Select an address",
            tag: "h2",
            size: "l"
          } %>

        <p class="govuk-body">
          <button form="skip-postcode-search" class="govuk-link govuk-link--no-visited-state button-to-as-link">
            <%= I18n.t("questions.address.home.i_cannot_find") %>
          </button>
        </p>
      </div>
      <p class="govuk-!-padding-top-3">
        <%= f.govuk_submit "Continue" %>
      </p>
    <% end %>
  </div>
</div>

<%= form_for @form, url: claim_path(current_journey_routing_name), builder: GOVUKDesignSystemFormBuilder::FormBuilder, html: { id: "skip-postcode-search" } do |f| %>
  <%= f.hidden_field :skip_postcode_search, value: true %>
<% end %>
