<h1 class="govuk-heading-l">
  Unverified claims ( <%= @unverified_count %> )
</h1>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third-from-desktop govuk-!-margin-bottom-5">
    <% label = ["Not started"] %>
    <% label << "(#{@not_started_overdue_count} Overdue)" if @not_started_overdue_count > 0 %>

    <%= render "components/card", value: @not_started_count, label: label.join(" "), status: "not-started" %>
  </div>

  <div class="govuk-grid-column-one-third-from-desktop govuk-!-margin-bottom-5">
    <% label = ["In progress"] %>
    <% label << "(#{@in_progress_overdue_count} Overdue)" if @in_progress_overdue_count > 0 %>

    <%= render "components/card", value: @in_progress_count, label: label.join(" "), status: "in-progress" %>
  </div>
</div>

<%= govuk_table do |table| %>
  <% table.with_head do |head| %>
    <% head.with_row do |row| %>
      <% row.with_cell(text: "Claimant name") %>
      <% row.with_cell(text: "Date submitted") %>
      <% row.with_cell(text: "Due date") %>
      <% row.with_cell(text: "Processed by") %>
      <% row.with_cell(text: "Status") %>
    <% end %>
  <% end %>

  <% table.with_body do |body| %>
    <% @claims.each do |claim| %>
      <% presenter = FurtherEducationPayments::Providers::Claims::ClaimPresenter.new(claim) %>
      <% body.with_row do |row| %>
        <% row.with_cell(text: govuk_link_to(claim.full_name, edit_further_education_payments_providers_claim_verification_path(claim))) %>
        <% row.with_cell(text: l(claim.submitted_at.to_date)) %>
        <% row.with_cell(text: l(Policies::FurtherEducationPayments.verification_due_date_for_claim(claim))) %>
        <% row.with_cell(text: presenter.processed_by) %>
        <% row.with_cell(text: govuk_tag(text: presenter.status, colour: presenter.colour)) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
