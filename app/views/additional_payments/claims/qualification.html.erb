<% content_for(:page_title, page_title(t("additional_payments.questions.qualification.heading"), journey: current_journey_routing_name, show_error: @form.errors.any?)) %>
<% path_for_form = current_claim.persisted? ? claim_path(current_journey_routing_name) : claims_path(current_journey_routing_name) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_for @form, url: path_for_form do |f| %>
      <% if f.object.errors.any? %>
        <%= render(
          "shared/error_summary",
          instance: f.object,
          errored_field_id_overrides: {
            "qualification": "claim_qualification_undergraduate_itt"
          }
        ) %>
      <% end %>
      <%= form_group_tag f.object do %>

        <%= f.hidden_field :qualification %>

        <fieldset class="govuk-fieldset">

          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">
              <%= t("additional_payments.questions.qualification.heading") %>
            </h1>
          </legend>

          <%= errors_tag f.object, :qualification %>

          <div class="govuk-radios">

            <div class="govuk-radios__item">
              <%= f.radio_button(:qualification, :postgraduate_itt, class: "govuk-radios__input") %>
              <%= f.label :qualification_postgraduate_itt, t("additional_payments.answers.qualification.postgraduate_itt"), class: "govuk-label govuk-radios__label" %>
              <div class="govuk-hint govuk-radios__hint"><%= t("additional_payments.questions.qualification.hint.postgraduate_itt") %></div>
            </div>

            <div class="govuk-radios__item">
              <%= f.radio_button(:qualification, :undergraduate_itt, class: "govuk-radios__input") %>
              <%= f.label :qualification_undergraduate_itt, t("additional_payments.answers.qualification.undergraduate_itt"), class: "govuk-label govuk-radios__label" %>
              <div class="govuk-hint govuk-radios__hint"><%= t("additional_payments.questions.qualification.hint.undergraduate_itt") %></div>
            </div>


            <div class="govuk-radios__item">
              <%= f.radio_button(:qualification, :assessment_only, class: "govuk-radios__input") %>
              <%= f.label :qualification_assessment_only, t("additional_payments.answers.qualification.assessment_only"), class: "govuk-label govuk-radios__label" %>
            </div>

            <div class="govuk-radios__item">
              <%= f.radio_button(:qualification, :overseas_recognition, class: "govuk-radios__input") %>
              <%= f.label :qualification_overseas_recognition, t("additional_payments.answers.qualification.overseas_recognition"), class: "govuk-label govuk-radios__label" %>
            </div>

          </div>

        </fieldset>

      <% end %>

      <%= f.submit "Continue", class: "govuk-button", data: {module: "govuk-button"} %>
    <% end %>
  </div>
</div>
