---
shared:
  :journey_configurations:
    - routing_name # string, path used in URL for this journey
    - open_for_submissions # boolean, can this journey accept claims
    - availability_message # string, optional message users see when journey is closed
    - created_at # datetime, when was this journey configuration created
    - updated_at # datetime, when was this journey configuration last updated
    - current_academic_year # string, configured academic year for this journey
    - teacher_id_enabled # boolean, is teacher ID enabled for this journey
  :reminders:
    - id # uuid, that uniquely this reminder
    - created_at # datetime, when this reminder was created
    - updated_at # datetime, when this reminder was last updated
    - email_verified # boolean, has this email address been verified by OTP
    - email_sent_at # datetime, when was reminder sent
    - itt_academic_year # string, year completed ITT if relevant for reminder
    - itt_subject # string, ITT subject if relevant for reminder
    - sent_one_time_password_at # datetime, when OTP was sent
    - journey_class # string, what journey does this reminde relate to
    - deleted_at # datetime, when was this reminder soft deleted via unsubscription
  :tasks:
    - id # uuid, that uniquely identifies this task
    - name # string, name that identifies type of task
    - claim_id # uuid, reference to claim associated to this task
    - created_by_id # uuid, admin that created this task
    - created_at # datetime, the task was created
    - updated_at # datetime, the task tas last updated
    - passed # boolean, has this task been passed
    - manual # boolean, was this a manual or automated task
    - claim_verifier_match # integer, do given details in task match
    - reason # string, rationale why task passed or failed
    - data # jsonb, additional meta data stored for the task
  :amendments:
    - id # uuid, that uniquely identifies this amendment
    - claim_id # uuid, references claim associated with this amendment
    - notes # string, rationale for the amendment
    - claim_changes # string, structured data representing data changes
    - dfe_sign_in_users_id # uuid, the DSI user that made this amendment
    - created_by_id # uuid, the admin that made this amendment
    - created_at # datetime, when this amendment was created
    - updated_at # datetime, when this amendment was last updated
    - personal_data_removed_at # datetime, when pii was stripped
  :claims:
    - id # uuid, that uniquely identifies this claim
    - created_at # datetime, when claim was create
    - updated_at # datetime, when claim was last updated
    - submitted_at # datetime, when claim was submitted by claimant
    - reference # string, alphanumeric string to identify claim
    - has_student_loan # boolean, do they have a student loan
    - student_loan_country # integer, ???
    - student_loan_courses # integer, ???
    - student_loan_start_date # integer, ???
    - student_loan_plan # string, plan type of their student loan
    - govuk_verify_fields # string, DEPRECATED
    - eligibility_type # string, used to identify type of eligibility
    - eligibility_id # uuid, references associated eligibility
    - personal_data_removed_at # datetime, when pii was stripped
    - retained_personal_data_removed_at # datetime, when extra pii was stripped
    - academic_year # string, academic year of this claim
    - bank_or_building_society # integer, DEPRECATED
    - provide_mobile_number # boolean, will claimant provide mobile number
    - postgraduate_masters_loan # boolean, does claimant have postgrad master loan
    - postgraduate_doctoral_loan # boolean, does claimant have postgrad doctoral loan
    - email_verified # boolean, has email been verfied via OTP
    - has_masters_doctoral_loan # boolean, does claimant have a master doctoral loan
    - mobile_verified # boolean, has mobile been verified by OTP
    - assigned_to_id # string, which admin claim is assigned to for processing
    - policy_options_provided # jsonb, DEPRECATED
    - sent_one_time_password_at # datetime, when OTP was sent
    - held # boolean, is this claim on hold for processing
    - hmrc_bank_validation_succeeded # boolean, did bank details pass HMRC checks
    - logged_in_with_tid # boolean, did claimant sign in with teacher ID
    - qa_required # boolean, does this claim require quality assurance checking
    - qa_completed_at # datetime, when quality assurance was completed
    - details_check # boolean, use details sourced from teacher ID
    - email_address_check # boolean, use email address sourced from teacher ID
    - mobile_check # string, which source to use for mobile number
    - qualifications_details_check # boolean, claimant agrees that displayed qualifications correct
    - submitted_using_slc_data # boolean, was claim submitted with SLC data
    - journeys_session_id # uuid, references the journey session associated
    - identity_confirmed_with_onelogin # boolean, claimants identity was confirmed by OL
    - logged_in_with_onelogin # boolean, did claimant sign in with OL
    - onelogin_auth_at # datetime, timestamp when user signed in with OL
    - onelogin_idv_at # datetime, time when OL ID verification occurred regardless of pass/fail state
    - onelogin_uid # uuid, OL identifier
    - started_at # datetime, when claimant started the journey
    - verified_at # datetime, DEPRECATED, for old alternative idv journey
    - onelogin_idv_return_codes # string, array of return codes from OL
    - policy # string, which policy this claim is for
    - claimant_declaration # boolean, did claimant agree to declaration
    - decision_deadline # date, SLA date for OPs to make a decision on claim
  :decisions:
    - id # uuid, identifies the decision
    - claim_id # uuid, references the associated claim
    - created_at # datetime, when the decision was created
    - updated_at # datetime, when the decision was last updated
    - notes # string, reason for decision
    - created_by_id # uuid, admin that created the decision
    - undone # boolean, has this decision been reverted
    - rejected_reasons # jsonb, rationale for rejecting this claim
    - approved # boolean, was the claim approved
  :local_authorities:
    - id # uuid, identifies the LA
    - code # integer, identifies the LA via external identifier
    - name # string, name of the LA
  :local_authority_districts:
    - id # uuid, identifies the LA district
    - name # string, name of the LA district
    - code # string, external identifier of the LA district
  :notes:
    - id # uuid, identifies the note
    - body # string, the note
    - claim_id # uuid, references the claim
    - created_by_id # uuid, admin that created the note
    - created_at # datetime, timestamp when note was created
    - updated_at # datetime, timestamp when note was last updated
    - important # boolean, is the note of importance
    - label # string, category of note
  :payments:
    - id # uuid, that identifies the payment
    - payroll_run_id # uuid, references associated payroll run
    - award_amount # decimal, amount being awarded
    - created_at # datetime, timestamp when payment was created
    - updated_at # datetime, timestamp when payment was last updated
    - payroll_reference # string, external identifier from payroll confirmation
    - gross_value # decimal, gross value of payment
    - student_loan_repayment # decimal, ???
    - tax # decimal, the amount of tax that was paid on the payment
    - national_insurance # decimal, the amount of employee national insurance paid
    - employers_national_insurance # decimal, the amount of employer's national insurance paid
    - net_pay # decimal, amount paid after deductions
    - gross_pay # decimal, amount paid before deductions
    - postgraduate_loan_repayment # decimal, amount paid towards postgrad loan
    - confirmation_id # uuid, that references the confirmation of the payment
    - scheduled_payment_date # date, when payment is scheduled for
  :payment_confirmations:
    - id # uuid, that identifies the payment confirmation
    - payroll_run_id # uuid, references associated payroll run
    - created_by_id # uuid, references admin that create payment confirmation
    - created_at # datetime, timestamp when payment confirmation was created
    - updated_at # datetime, timestamp when payment confirmation was last updated
  :payroll_runs:
    - id # uuid, identifies the payroll run
    - created_at # datetime, timestamp when payroll run was created
    - updated_at # datetime, timestamp when payroll run was last updated
    - downloaded_at # datetime, when payroll run was downloaded
    - created_by_id # uuid, references admin that created the payroll run
    - downloaded_by_id # uuid, references admin that downloaded payroll run
    - scheduled_payment_date # date, when the payment is scheduled to happen
    - confirmation_report_uploaded_by_id # uuid, references admin that uploaded the confirmation
    - status # string, state of the payroll run, defaults to pending
  :student_loans_eligibilities:
    - id # uuid, that identifies the eligibility
    - created_at # datetime, timestamp when eligibility was created
    - updated_at # datetime, timestamp when eligibility was last updated
    - qts_award_year # string, the year teacher attained Qualified Teacher Status
    - claim_school_id # uuid, references school sourced from existing data
    - current_school_id # uuid, references school if different from sourced
    - employment_status # string, whether working at sourced school or elsewhere
    - biology_taught # boolean, does claimant teach biology
    - chemistry_taught # boolean, does claimant teach chemistry
    - computing_taught # boolean, does claimant teach computing
    - languages_taught # boolean, does claimant teach languages
    - physics_taught # boolean, does claimant teach physics
    - taught_eligible_subjects # boolean, does claimaint teach an eligible subject
    - student_loan_repayment_amount # decimal, ???
    - award_amount # decimal, amount being awarded
    - had_leadership_position # boolean, does the claimant hold a leadership position
    - mostly_performed_leadership_duties # boolean, was the claimant mostly fulfilling leadship duties
    - claim_school_somewhere_else # boolean, are they claiming against another school
    - teacher_reference_number # string, TRN external identifier
  :early_career_payments_eligibilities:
    - id # uuid, that identifies the eligiblity
    - nqt_in_academic_year_after_itt # boolean, is claimant teaching as newly qualified teacher
    - created_at # datetime, timestamp when eligibility was created
    - updated_at # datetime, timestamp when eligibility was last updated
    - employed_as_supply_teacher # boolean, is claimant employed as a supply teacher
    - qualification # string, what route into teaching did claimant take
    - has_entire_term_contract # boolean, claimants contract cover at least a single term
    - employed_directly # boolean, is claimant employed directly by school
    - subject_to_disciplinary_action # boolean, is claimant subject to discplinary action
    - subject_to_formal_performance_action # boolean, is claimant subject to formal performance action
    - eligible_itt_subject # string, which eligible subject was trained for in ITT
    - teaching_subject_now # boolean, is claimant teaching eligible subjects now
    - itt_academic_year # string, academic year when ITT was completed
    - current_school_id # uuid, references school for claim
    - award_amount # decimal, amount being awarded
    - induction_completed # boolean, has claimant completed the ITT
    - school_somewhere_else # boolean, is claimant teaching at a different school
    - teacher_reference_number # string, external identifier
  :targeted_retention_incentive_payments_eligibilities:
    - id # uuid, that identifies the eligiblity
    - created_at # datetime, timestamp when eligibility was created
    - updated_at # datetime, timestamp when eligibility was last updated
    - nqt_in_academic_year_after_itt # boolean, is claimant teaching as newly qualified teacher
    - employed_as_supply_teacher # boolean, is claimant employed as supply teacher
    - qualification # string, what route into teaching did claimant take
    - has_entire_term_contract # boolean, does contract cover entire term or longer
    - employed_directly # boolean, is claimant employed directly by school
    - subject_to_disciplinary_action # boolean, is claimant subject to discplinary action
    - subject_to_formal_performance_action # boolean, is claimant subject to formal performance action
    - eligible_itt_subject # string, which eligible subject was trained for in ITT
    - teaching_subject_now # boolean, is claimant teaching eligible subjects now
    - itt_academic_year # string, academic year when ITT was completed
    - current_school_id # uuid, references school for claim
    - award_amount # decimal, amount being awarded
    - eligible_degree_subject # boolean, has claimant a degree in eligible subject
    - induction_completed # boolean, has claimaint completed their ITT
    - school_somewhere_else # boolean, is claimant teaching at a different school
    - teacher_reference_number # string, external identifier
  :international_relocation_payments_eligibilities:
    - id # uuid, that identifies the eligiblity
    - created_at # datetime, timestamp when eligibility was created
    - updated_at # datetime, timestamp when eligibility was last updated
    - application_route # string, claiming as teacher or salaried trainee or other
    - state_funded_secondary_school # boolean, is claimant employed by state funded secondary school
    - one_year # boolean, is claimant contract at least for one year
    - start_date # date, when does claimant employment start
    - subject # string, what subject does claimant teach
    - visa_type # string, what type of visa does the claimant hold
    - date_of_entry # string, when did claimant enter the UK
    - nationality # string, claimant nationality
    - current_school_id # uuid, references school the claimant is teaching
    - award_amount # decimal, amount being awarded
    - changed_workplace_or_new_contract # boolean, has claimant change workplace or started a new contract
    - previous_year_claim_ids # uuid, references previous claims from claimant
    - breaks_in_employment # boolean, did claimant have any large gaps in employment
    - employment_history # jsonb, claimants employment history
  :schools:
    - id # uuid, that internally idenitfies the school
    - urn # string, external school identifier
    - name # string, name of the school
    - street # string, location
    - locality # string, location
    - town # string, location
    - county # string, location
    - postcode # string, location
    - phase # string, phase of school from GIAS
    - school_type_group # string, school type group from GIAS
    - school_type # string, school type from GIAS
    - local_authority_id # uuid, that references the LA of the school
    - created_at # datetime, timestamp when school was created
    - updated_at # datetime, timestamp when school was last updated
    - local_authority_district_id # uuid, that references the LA district
    - close_date # date, when the school closed
    - establishment_number # integer, external identifier of school
    - statutory_high_age # integer, data from GIAS
    - phone_number # string, school contact number from GIAS
    - open_date # date, when the school opend
    - ukprn # string, external identifier of school
  :dfe_sign_in_users:
    - id # uuid, identifies DSI user
    - dfe_sign_in_id # string, external identifier
    - organisation_name # string, name of DSI organisation when signing in
    - created_at # datetime, timestamp when DSI user was created
    - updated_at # datetime, timestamp when DSI user was last updated
    - role_codes # string, array of roles the user holds from DSI
    - deleted_at # datetime, when record was soft deleted
    - current_organisation_ukprn # string, UKPRN identifier of organisation
    - user_type # string, internally what type of user are they
  :targeted_retention_incentive_payments_awards:
    - id # integer, identifies the award
    - academic_year # string, the acdemic year for the award
    - school_urn # integer, external identifier of school for the award
    - award_amount # decimal, amount being awarded
    - created_at # datetime, when award was created
    - updated_at # datetime, when award was last updated
  :claim_payments:
    - id # uuid, identifies the join table record
    - claim_id # uuid, references the claim
    - payment_id # uuid, reference the payment
    - created_at # datetime, when the record was created
    - updated_at # datetime, when the record was last updated
  :topups:
    - id # uuid, identifies the topup
    - claim_id # uuid, references the claim for this top up
    - award_amount # decimal, amount being awarded
    - payment_id # uuid, references the payment
    - dfe_sign_in_users_id # uuid, references the DSI user that created the topup
    - created_by_id # uuid, references the admin that created the topup
    - created_at # datetime, when the topup was created
    - updated_at # datetime, when the topup was last updated
  :journeys_sessions:
    - id # uuid, identifies the journey session
    - journey # string, identifies which journey session is for
    - created_at # datetime, timestamp when journey session was created
    - updated_at # datetime, timestamp when journey session was last updated
    - expired # boolean, has this session expired
    - steps # jsonb, array of steps taken in the journey
  :further_education_payments_eligibilities:
    - id # uuid, that identifies the eligibility
    - created_at # datetime, timestamp when eligibility was created
    - updated_at # datetime, timestamp when eligibility was last updated
    - award_amount # decimal, amount being awarded
    - teaching_responsibilities # boolean, does the claimant having teaching responsibilities
    - provision_search # string, text entered when searching for school
    - possible_school_id # uuid, that references the school we think they search for
    - school_id # uuid, that references the actual school they selected
    - contract_type # string, contract type claimant has with school
    - fixed_term_full_year # boolean, does claimant fixed term contract cover entire academic year
    - taught_at_least_one_term # boolean, has claimant taught for at least one term
    - teaching_hours_per_week # string, claimants teaching hours per week
    - further_education_teaching_start_year # string, academic year claimant started teaching FE
    - subjects_taught # jsonb, what subjects does the claimant teach
    - building_construction_courses # jsonb, what building and construction courses does claimant teach
    - chemistry_courses # jsonb, what chemistry courses does claimant teach
    - computing_courses # jsonb, what computing courses does claimant teach
    - early_years_courses # jsonb, what EY courses does claimant teach
    - engineering_manufacturing_courses # jsonb, what engineering and manufacturing courses does claimant teach
    - maths_courses # jsonb, what maths courses does claimant teach
    - physics_courses # jsonb, what physics courses does claimant teach
    - hours_teaching_eligible_subjects # boolean, does claimant spend enough time teaching eligible subjects
    - teaching_qualification # string, does claimant have a teaching qualification
    - subject_to_formal_performance_action # boolean, is claimant subject to performance action
    - subject_to_disciplinary_action # boolean, is claimant subject to discplinary action
    - half_teaching_hours # boolean, claimant spend at least half teaching hours to relevant groups
    - flagged_as_duplicate # boolean, is this possibly a duplicate
    - provider_verification_email_last_sent_at # datetime, DEPRECATED
    - provider_verification_chase_email_last_sent_at # datetime, DEPRECATED
    - teacher_reference_number # string, external identifier
    - provider_verification_email_count # integer, DEPRECATED, how many times have we reminded provider to verify claim
    - claimant_identity_verified_at # datetime, DEPRECATED
    - valid_passport # boolean, DEPRECATED, does the claimant have a valid passport
    - provider_verification_teaching_responsibilities # boolean, does provider think claimant has teaching responsibilities
    - provider_verification_teaching_start_year # string, academic year the provider says the claimant started FE teaching
    - provider_verification_teaching_qualification # string, does provider think claimant has teaching qualification
    - provider_verification_contract_type # string, what contract type does claimant have according to provider
    - provider_verification_contract_covers_full_academic_year # boolean, does provider think claimant contract covers entire academic year
    - provider_verification_taught_at_least_one_academic_term # boolean, does provider think claimant has worked at least one academic term
    - provider_verification_performance_measures # boolean, does provider think claimant under performance measures
    - provider_verification_disciplinary_action # boolean, does provider think claimant under discplinary action
    - provider_verification_teaching_hours_per_week # string, what does provider think claimant teaching hours per week are
    - provider_verification_half_teaching_hours # boolean, does provider think claimant teaches more than half hours in relevant courses
    - provider_verification_declaration # boolean, does provider agree to verification declaration
    - provider_verification_completed_at # datetime, when was provider verification was completed
    - provider_verification_verified_by_id # uuid, which user from provider verified this claim
    - provider_assigned_to_id # uuid, which user from provider currently assigned to verify this claim
    - provider_verification_started_at # datetime, when did provider start verifying this claim
    - provider_verification_half_timetabled_teaching_time # boolean, does provider think claimant teaches relevant courses for at least half timetabled time
    - provider_verification_claimant_employed_by_college # boolean, does provider employ claimant
    - provider_verification_claimant_bank_details_match # boolean, does provider agree claimants bank details match
    - provider_verification_claimant_employment_check_declaration # boolean, does provider agree with employment declaration
    - provider_verification_not_started_qualification_reasons # jsonb, why hasn't practitioner started a qualification yet (given by the provider)
    - provider_verification_not_started_qualification_reason_other # string, if provider_verification_not_started_qualification_reasons is other, provides detail (given by the provider)
    - work_email_verified # boolean, has claimants work email been verified via OTP
    - flagged_as_mismatch_on_teaching_start_year # boolean, previous claim has a further_education_teaching_start_year of 2020 (for year2 claims) or there is a mismatch (for year3 and onwards)
    - flagged_as_previously_start_year_matches_claim_false # boolean, previous rejected claim where provider start year did not match claimant start year
    - provider_verification_deadline # date, deadline date for when provider should verify a claim
  :eligible_ey_providers:
    - id # uuid, that identifies eligible EY provider
    - nursery_name # string, name of school
    - urn # string, external identifier of school
    - local_authority_id # uuid, that references the LA of school
    - nursery_address # string, address of school
    - max_claims # integer, max permitted claims for school
    - created_at # datetime, timestamp when record was created
    - updated_at # datetime, timestamp when record was last updated
  :eligible_fe_providers:
    - id # uuid, that identifies eligible FE provider
    - ukprn # integer, external identifier for school
    - academic_year # string, which academic year the eligibility record is for
    - max_award_amount # decimal, max amount that can be awarded to claimant
    - lower_award_amount # decimal, lower amound that can be awarded to claimant
    - created_at # datetime, timestamp when record was created
    - updated_at # datetime, timestamp when record was last updated
  :early_years_payment_eligibilities:
    - id # uuid, identifies the eligibility
    - nursery_urn # string, external identifier
    - start_date # date, when did claimant start
    - child_facing_confirmation_given # boolean, is claimant mostly performing child facing duties
    - returning_within_6_months # boolean, did claimant work in EY within last 6 months
    - returner_worked_with_children # boolean, did claimant previous role directly work with children
    - returner_contract_type # string, what type of contract does claimant have
    - award_amount # decimal, amount being awarded
    - created_at # datetime, timestamp when eligibility was created
    - updated_at # datetime, timestamp when eligibility was last updated
    - provider_claim_submitted_at # datetime, when provider submitted the claim
    - practitioner_claim_started_at # datetime, when practitioner started the claim
    - alternative_idv_claimant_employed_by_nursery # boolean, if OL idv failed, did nursery employ claimant
    - alternative_idv_claimant_bank_details_match # boolean, if OL idv failed, do nursery agree claimants bank details match
    - alternative_idv_claimant_employment_check_declaration # boolean, if OL idv failed, did nurset agree to declaration
    - alternative_idv_completed_at # datetime, if OL idv failed, when was alternative checks completed
    - alternative_idv_reference # string, DEPRECATED, reference used for old alternative idv journey
    - provider_six_month_employment_reminder_sent_at # datetime, when was nursery 6 month reminder sent
    - provider_entered_contract_type # string, nursery supplies claimants contract type
    - practitioner_reminder_email_sent_count # integer, number of times practitioner has been reminded to complete claim
    - practitioner_reminder_email_last_sent_at # datetime, when last reminder was sent to practitioner
  :school_workforce_censuses:
    - id # uuid, identifies the school workforce census record
    - teacher_reference_number # string, external identifier for teacher
    - school_urn # integer, external identifier for school
    - totfte # float, ???
    - contract_agreement_type # string, contract type teacher has
    - subject_description_sfr # string, ???
    - general_subject_code # string, ???
    - hours_taught # integer, hours taught by teacher
    - created_at # datetime, when was school workforce census uploaded
    - updated_at # datetime, when was record last updated
  :teachers_pensions_service:
    - id # uuid, that identifies the TPS upload
    - teacher_reference_number # string, external identifier of teacher
    - start_date # datetime, ???
    - end_date # datetime, ???
    - la_urn # integer, external identifier of LA
    - school_urn # integer, external identifier of school
    - employer_id # integer, external identifier
    - nino # string, national insurance number
    - created_at # datetime, when was TPS data created
    - updated_at # datetime, when was TPS date last updated
    - gender_digit # integer, represents gender of teacher
  :stats:
    - id # uuid, identifies this data point
    - one_login_return_code # string, OL return code
    - created_at # datetime, when this datapoint was recorded
    - updated_at # datetime, when this datapoint was last updated
    - type # string, type of datapoint
  :events:
  - id # uuid, identifies this event occurrence
  - name # string, describes what this event is
  - claim_id # uuid, references the associated claim
  - actor_id # uuid, admin that created triggered this event
  - entity_type # string, used to identify the entity type this event relates to
  - entity_id # uuid, references associated entity
  - created_at # datetime, when the event was created
  - updated_at # datetime, when the event was last updated
